(self.webpackJsonp=self.webpackJsonp||[]).push([["Information~Payment~ShopPay"],{"4wH8":function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a("8DDH"),r=a("FdF9"),o=a("/gc/"),s=a("d37E"),d=a("+Dcn"),i=a("asF6"),c=a("StY/"),l=a("bgyr"),u=a("N6z0"),p=a("yKZN"),f=a("CkYV"),b=a("hABK"),m=a("/6kL"),g=a("xyKn");const _=e=>e.state.read(e.current).value;function v(){const e=Object(n.a)(),t=Object(c.d)(),{plan:a,currentStep:v}=Object(o.b)(),O=Object(s.g)(),y="cart"===Object(l.c)().type,h=Object(d.r)(),j=Object(u.d)(Object(p.b)().paymentLines),C=_(h),E=Object(f.a)(),A=Object(m.c)(),w=Object(m.d)(),S=Object(b.a)(),{value:k}=Object(d.w)(),I=Object(r.useMemo)(()=>{var e;return(null==S||null==(e=S.checkoutExperienceConfiguration)?void 0:e.checkoutCompletionTarget)===g.a.DraftOrder},[S]),N=Object(i.b)(C.deliveryNext),z=Object(i.c)(C.deliveryNext),T=Object(r.useMemo)(()=>j.some(e=>{let{method:{type:t}}=e;return"paymentOnDelivery"===t}),[j]),D=Object(r.useMemo)(()=>j.some(e=>{let{method:{type:t}}=e;return"customManualPayment"===t||"manualPayment"===t}),[j]),F=Boolean(k);return Object(r.useMemo)(()=>{const n=[...y?[{id:"cart",route:t.cart()}]:[],...a.greenPath,{id:"thankYou",route:t.thankYou()}];let r=v?n.findIndex(e=>e.id===v.id):void 0;(null==r||r<0)&&(r=void 0);const o=_(h),s=null==r?void 0:n.slice(r+1).find(e=>null==e.skipOverStep||!e.skipOverStep(o)),d=null==r?void 0:n.slice(0,r).reverse().find(e=>null==e.skipOverStep||!e.skipOverStep(o));return{nextStep:{id:null==s?void 0:s.id,label:function(t){switch(t){case"shipping":return e("general.continue_to_shipping_method","Continuar com o frete");case"payment":return e("general.continue_to_payment_method","Continuar com o pagamento");case"review":return e("general.continue_to_review","Revisar a compra");case"thankYou":return I?e("general.submit_for_review_button_label","Enviar para revisão"):F?e("general.submit_order_button_label","Enviar pedido"):O||T||D||E&&(A||w)?e("general.complete_purchase_button_label","Finalizar a compra"):e("general.pay_now_button_label","Pagar agora");default:return e("general.continue_button_label","Continuar")}}(null==s?void 0:s.id),notice:function(t){switch(t){case"review":return e("processing.you_will_not_be_charged","Você ainda não será cobrado");case"thankYou":return I?e("general.submit_for_review_notice_label","O pagamento só é realizado após a revisão do pedido"):void 0;default:return}}(null==s?void 0:s.id)},previousStep:{label:function(t){switch(t){case"cart":return e("general.back_to_cart","Voltar ao carrinho");case"information":return e("general.back_to_contact_information","Voltar para as informações");case"shipping":return e("general.back_to_shipping_method","Voltar para o frete");case"payment":return e("general.back_to_payment_method","Voltar ao pagamento");default:return e("general.back_button_label","Devolução")}}(null==d?void 0:d.id),route:null==d?void 0:d.route}}},[t,h,e,O,v,a.greenPath,y,N,z,T,D,E,A,w])}},B261:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a("FdF9"),r=a("8DDH"),o=a("yTKn"),s={xsmall:"_1J46E",small:"_2TBS9",medium:"_39qGk",large:"iyf28"};function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var i=n.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M204.916 30.1c3.978-4.92 10.15-8.998 17.52-8.998 16.544 0 29.576 13.696 29.565 30.595 0 17.61-13.096 30.64-28.81 30.64-8.355 0-14.75-4.277-17.087-7.845h-.222v25.864a.585.585 0 01-.586.589h-14.727a.598.598 0 01-.6-.587v-78.68c0-.16.064-.31.177-.422a.594.594 0 01.423-.175h13.763a.59.59 0 01.415.18c.11.11.17.26.17.418V30.1zm16.263 37.243a15.623 15.623 0 01-11.66-4.689 15.628 15.628 0 01-4.2-13.715 15.61 15.61 0 0115.831-12.812 15.345 15.345 0 0110.777 4.61 15.348 15.348 0 014.37 10.957 15.46 15.46 0 01-1.086 5.93 15.413 15.413 0 01-14.033 9.716z"}),c=n.default.createElement("path",{d:"M109.306 32.87c-3.402-7.136-9.852-11.746-19.57-11.746a19.486 19.486 0 00-15.304 7.868l-.354.432V1.454a.604.604 0 00-.18-.43.603.603 0 00-.43-.18h-13.74a.61.61 0 00-.599.61v80.23a.595.595 0 00.596.598h14.717a.612.612 0 00.61-.598v-34.21c0-6.647 4.433-11.357 11.525-11.357 7.757 0 9.718 6.383 9.718 12.888v32.68a.599.599 0 00.6.597h14.683a.61.61 0 00.61-.598v-34.63c0-1.185 0-2.35-.155-3.48a30.623 30.623 0 00-2.726-10.704zm-73.48 11.89s-7.49-1.76-10.25-2.47c-2.76-.71-7.58-2.217-7.58-5.863 0-3.646 3.89-4.81 7.833-4.81 3.944 0 8.332.954 8.675 5.33a.63.63 0 00.631.575l14.505-.055a.636.636 0 00.456-.198.631.631 0 00.164-.467c-.898-14.008-13.187-19.017-24.523-19.017-13.44 0-23.27 8.865-23.27 18.64 0 7.136 2.016 13.83 17.873 18.483 2.782.81 6.56 1.862 9.863 2.78 3.967 1.11 6.105 2.783 6.105 5.42 0 3.06-4.43 5.186-8.786 5.186-6.305 0-10.782-2.338-11.148-6.538a.636.636 0 00-.632-.555l-14.472.067a.63.63 0 00-.632.653c.666 13.22 13.432 20.346 25.334 20.346 17.73 0 25.742-9.973 25.742-19.315.022-4.388-.987-14.384-15.89-18.196zm110.558-27.116c-13.73 0-20.578 4.666-26.074 8.4l-.167.11c-.283.195-.483.49-.56.823-.075.335-.02.687.15.984l5.43 9.355c.102.175.24.325.408.44a1.41 1.41 0 001.146.199c.192-.052.37-.146.52-.275l.433-.356c2.824-2.372 7.357-5.54 18.327-6.405 6.106-.49 11.38 1.107 15.27 4.742 4.278 3.945 6.838 10.316 6.838 17.043 0 12.378-7.292 20.157-19.005 20.312-9.653-.055-16.135-5.086-16.135-12.522 0-3.945 1.784-6.516 5.263-9.087.266-.19.454-.47.53-.788a1.356 1.356 0 00-.12-.94l-4.876-9.22a1.43 1.43 0 00-1.423-.734c-.19.025-.376.09-.54.19-5.474 3.247-12.19 9.186-11.824 20.6.443 14.528 12.522 25.62 28.224 26.075h1.863c18.66-.61 32.136-14.46 32.136-33.244 0-17.242-12.568-35.704-35.817-35.704z"}),l=n.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M282.375 1.044h125.652c8.672 0 15.703 7.03 15.703 15.703V85.54c0 8.672-7.03 15.702-15.703 15.702H282.375c-8.672 0-15.702-7.03-15.702-15.702V16.747c0-8.673 7.03-15.703 15.702-15.703zm28.19 54.488c10.484 0 17.986-7.647 17.986-18.362 0-10.66-7.5-18.35-17.983-18.35H292.06a.827.827 0 00-.831.83v50.786c0 .22.09.43.245.585a.836.836 0 00.584.248h6.96a.827.827 0 00.829-.831V56.363a.832.832 0 01.831-.831h9.885zm-.53-29c5.695 0 9.895 4.5 9.895 10.638 0 6.15-4.2 10.638-9.896 10.638h-9.352a.829.829 0 01-.832-.82V27.363a.844.844 0 01.832-.831h9.352zM330.6 61.526a9.903 9.903 0 01.988-4.757 9.86 9.86 0 013.136-3.71c2.704-2.03 6.892-3.08 13.11-3.325l6.592-.222v-1.95c0-3.89-2.615-5.54-6.815-5.54-4.197 0-6.846 1.484-7.466 3.91a.803.803 0 01-.798.577h-6.505a.802.802 0 01-.634-.277.81.81 0 01-.196-.664c.974-5.764 5.74-10.14 15.9-10.14 10.794 0 14.683 5.02 14.683 14.604V70.4a.792.792 0 01-.06.32.822.822 0 01-.77.523h-6.572a.842.842 0 01-.59-.244.845.845 0 01-.24-.595v-1.52a.634.634 0 00-.09-.38.633.633 0 00-.3-.25.644.644 0 00-.39-.02.626.626 0 00-.327.22c-1.962 2.137-5.153 3.69-10.24 3.69-7.457.02-12.41-3.88-12.41-10.617zm23.826-4.433V55.52l-8.532.444c-4.5.232-7.126 2.105-7.126 5.252 0 2.848 2.405 4.433 6.594 4.433 5.696 0 9.064-3.083 9.064-8.546v-.01zm14.772 23.626v5.927a.855.855 0 00.609.864c1.16.317 2.357.463 3.558.434 6.37 0 12.19-2.327 15.514-11.392l14.625-39.018a.846.846 0 00-.113-.753.848.848 0 00-.675-.354H395.9a.831.831 0 00-.798.577l-8.056 24.71a.832.832 0 01-.314.4c-.143.1-.312.152-.485.152s-.34-.053-.484-.15a.886.886 0 01-.313-.4l-9.286-24.78a.849.849 0 00-.31-.39.847.847 0 00-.477-.152h-6.648a.844.844 0 00-.786 1.109L381.62 72.63a.82.82 0 010 .565l-.432 1.363a7.878 7.878 0 01-7.945 5.621 16.409 16.409 0 01-3.048-.29.847.847 0 00-.996.834z"}),u=function(e){return n.default.createElement("svg",d({preserveAspectRatio:"xMidYMid",viewBox:"0 0 424 102",fill:"inherit"},e),i,c,l)};function p(e){let{color:t="white",size:a="medium"}=e;const d=Object(r.a)(),i="branded"===t?o.a.toRgb():t;return n.default.createElement(u,{className:s[a],style:{fill:i},title:d("shop_pay.logo_title","Shop Pay")})}},JCxc:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("FdF9"),r=a("cyr3"),o=a("1bEA"),s=a("4CNf");const d=Object(r.a)({load:async()=>(await Object(s.a)(()=>a.e("AutocompleteField").then(a.bind(null,"AX+K")))).AutocompleteField,id:()=>"AX+K",renderLoading:e=>n.default.createElement(o.Ob,e)})},LBKX:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s}));var n=a("FdF9"),r=a("1bEA");function o(e){let{children:t}=e;const{formLayout:{spacing:a}}=Object(r.rc)();return n.default.createElement(r.i,{spacing:a},t)}function s(e){let{children:t}=e;const{formLayout:{spacing:a="base"}}=Object(r.rc)(),o=Object(r.pc)({base:!0,small:!1})?r.i:r.I;return n.default.createElement(o,{spacing:a},t)}},Lpp8:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("FdF9"),r=a("1bEA");function o(e){let{active:t=!1,size:a="base",children:o}=e;return n.default.createElement("div",{className:"I59bi","aria-hidden":t?"true":"false"},t&&n.default.createElement("div",{className:"_25fDo"},n.default.createElement(r.Hb,{size:a})),o)}},NFhX:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("FdF9"),r=a("uzg4"),o=a("n5dE"),s=a("jh73");const d=r.Monorail.createHttpProducer({production:!0}),i=e=>{let{handle:t,subject:a,controlVariant:r="control",enabled:i=!1}=e;const[c,l]=Object(n.useState)(r),u=Object(o.b)(s.f),p=Object(n.useMemo)(()=>new Map,[]);return Object(n.useEffect)(()=>{if(i&&"ready"===u&&"undefined"!=typeof window&&void 0!==window.Verdict&&"undefined"!=typeof BigInt)if(p.has(null==a?void 0:a.subjectId))l(p.get(a.subjectId));else{const e=new window.Verdict.Verdict(d).getVariant(t,a,{useMD5:!0});p.clear(),p.set(null==a?void 0:a.subjectId,e),l(e)}},[p,i,t,u,a]),c}},Q7q2:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"f",(function(){return r})),a.d(t,"e",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"h",(function(){return d})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return c})),a.d(t,"g",(function(){return l}));const n="checkout_as_guest",r="skip_shop_pay",o="shop_pay_logout",s="hide_shopify_pay_for_checkout",d="unauthorized_access",i=20,c=10;let l;!function(e){e.ShopCashInstallmentsNotSupported="SHOP_CASH_INSTALLMENTS_NOT_SUPPORTED",e.ShopCashMerchantNotSupported="SHOP_CASH_MERCHANT_NOT_SUPPORTED",e.ShopCashInvalidShippingAddress="SHOP_CASH_INVALID_SHIPPING_ADDRESS",e.ShopCashInvalidBillingAddress="SHOP_CASH_INVALID_BILLING_ADDRESS",e.ShopCashUnsupportedDeliveryMethodType="SHOP_CASH_UNSUPPORTED_DELIVERY_METHOD_TYPE"}(l||(l={}))},Qg55:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"c",(function(){return p})),a.d(t,"b",(function(){return f})),a.d(t,"d",(function(){return b})),a.d(t,"e",(function(){return m}));var n=a("FdF9"),r=a("TSYQ"),o=a.n(r),s=a("0qMF"),d=a("NG8D"),i=a("L+Ql"),c=a("GLnk"),l={Step:"_3eMxx",Content:"uReyx",Header:"GWkyM",isGrouped:"VuW0B",Actions:"_3XHWd","Actions-displayInline":"_7J8O"};function u(e){let{children:t}=e;return n.default.createElement("div",{className:l.Step},t)}function p(e){let{grouped:t,children:a}=e;const r=o()(l.Content,{[l.isGrouped]:t});return n.default.createElement("div",{className:r},a)}function f(e){let{children:t}=e;const a=Object(i.o)("Checkout::Actions::RenderBefore"),{actions:{display:r="inline"}}=Object(d.d)(),u=o()(l.Actions,l[Object(s.a)("Actions-display",r)]);return n.default.createElement(n.default.Fragment,null,n.default.createElement(c.a,{extensions:a,spacing:"base"}),n.default.createElement("div",{className:u},t))}function b(e){let{children:t}=e;return n.default.createElement("div",{className:l.PrimaryAction},t)}function m(e){let{children:t}=e;return n.default.createElement("div",{className:l.SecondaryAction},t)}},S3bo:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return c}));var n=a("SSp2"),r=a("FdF9"),o=a("4iJC"),s=a("x1ps");class d extends Error{constructor(){super(...arguments),this.name="MissingAutocompleteEndpointError"}}function i(){const e=Object(n.a)("autocomplete-sandbox"),t=Object(r.useRef)();return Object(r.useLayoutEffect)(()=>{if(!e)throw new s.c("Unable to find autocomplete sandbox URL");const a=Object(o.b)({id:"autocomplete",url:e,privileges:["allow-scripts","allow-same-origin"]});return t.current=Object(o.a)(a,e),()=>{var e;a.remove(),null==(e=t.current)||e.terminate()}},[e]),Object(r.useMemo)(()=>({search(){if(!t.current)throw new d("Called search without valid autocomplete endpoint");return t.current.call.search(...arguments)},fetchAddress(){if(!t.current)throw new d("Called fetchAddress without valid autocomplete endpoint");return t.current.call.fetchAddress(...arguments)}}),[])}function c(){const e=Object(n.a)("autocomplete-sandbox"),t=Object(r.useRef)();return Object(r.useLayoutEffect)(()=>{let a;try{if(!e)throw new s.c("Unable to find autocomplete sandbox URL");a=Object(o.b)({id:"validation",url:e,privileges:["allow-scripts","allow-same-origin"]}),a.addEventListener("load",()=>{t.current=Object(o.a)(a,e)})}catch(n){if(n instanceof s.c)return()=>{}}return()=>{var e;a.remove(),null==(e=t.current)||e.terminate()}},[e]),Object(r.useMemo)(()=>({validation(){if(!t.current)throw new d("Called validation without valid autocomplete endpoint");return t.current.call.validation(...arguments)}}),[])}},SOVB:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var n=a("8DDH"),r=a("M2P0");const o=new Map([[r.a.InsufficientFunds,"insufficient_funds"],[r.a.InvalidPaymentMethod,"cannot_verify"],[r.a.FundingError,"processing_error"],[r.a.CanceledPaypalBillingAgreement,"processing_error"],[r.a.TokenExpired,"processing_error"],[r.a.InvalidToken,"processing_error"],[r.a.UnilateralAuthError,"processing_error"],[r.a.ThirdPartyInternalError,"processing_error"],[r.a.AuthorizationError,"processing_error"],[r.a.InvalidCurrency,"processing_error"],[r.a.InvalidItemTotal,"processing_error"],[r.a.InvalidCurrency,"processing_error"],[r.a.UnprocessableTransaction,"processing_error"],[r.a.InvoiceAlreadyPaid,"processing_error"],[r.a.AuthenticationError,"cannot_verify"],[r.a.IncorrectNumber,"cannot_verify"],[r.a.IncorrectCvc,"cannot_verify"],[r.a.IncorrectZip,"cannot_verify"],[r.a.IncorrectAddress,"cannot_verify"],[r.a.IncorrectPin,"cannot_verify"],[r.a.AuthenticationError,"three_d_secure_failed"],[r.a.InvalidNumber,"invalid_number"],[r.a.InvalidExpiryDate,"invalid_expiry_date"],[r.a.InvalidCvc,"invalid_cvc"],[r.a.ExpiredCard,"expired_card"],[r.a.CardDeclined,"card_declined"],[r.a.CallIssuer,"call_issuer"],[r.a.PickUpCard,"pick_up_card"],[r.a.TestModeLiveCard,"test_mode_live_card"],[r.a.TransientError,"transient_error"],[r.a.InsufficientFunds,"insufficient_funds"],[r.a.InvalidShippingAddress,"invalid_shipping_address"],[r.a.MissingShippingAddress,"missing_shipping_address"],[r.a.InvalidPaymentMethod,"cannot_verify"],[r.a.PublicPaymentError,"generic_error"],[r.a.SuccessfulOffsiteWithGiftCardError,"successful_offsite_with_gift_card_error"]]);function s(e){const t=Object(n.a)();let a="generic_error";return e&&(a=o.get(e.code)||"generic_error"),t("payment_errors",{scope:a},{pick_up_card:"Seu cartão foi recusado. Tente de novo ou use outra forma de pagamento.",cannot_verify:"Não foi possível verificar as informações de pagamento. Verifique as informações do cartão e tente de novo.",invalid_number:"Insira um número de cartão válido",invalid_expiry_date:"Insira uma data de vencimento do cartão válida",invalid_cvc:"Insira um código de segurança válido",expired_card:"Cartão vencido. Use uma forma de pagamento diferente.",card_declined:"Seu cartão foi recusado. Tente de novo ou use outra forma de pagamento.",processing_error:"Houve um problema ao processar o pagamento. Tente de novo ou use outra forma de pagamento.",call_issuer:"Seu cartão foi recusado. Use outra forma de pagamento ou entre em contato com seu banco para mais informações.",test_mode_live_card:"A loja não aceita pedidos nem pagamentos reais.",transient_error:"Houve um problema ao processar o pagamento. Tente atualizar a página ou verifique a conexão com a internet.",insufficient_funds:"O pagamento foi recusado devido a recursos insuficientes. Tente de novo ou use uma forma de pagamento diferente.",generic_error:"Houve um problema ao processar seu pagamento. Tente de novo ou use uma forma de pagamento diferente.",three_d_secure_failed:"Não foi possível verificar seu pagamento. Tente de novo ou use uma forma de pagamento diferente.",missing_shipping_address:"Não foi possível processar o pagamento porque o endereço de entrega não foi inserido. Adicione um endereço de entrega e tente de novo.",invalid_shipping_address:"Não foi possível processar o pagamento porque o endereço de entrega não foi encontrado. Verifique se ele foi inserido corretamente e tente de novo.",successful_offsite_with_gift_card_error:"Houve um problema ao processar o pagamento com cartão-presente. Tente de novo ou use outra forma de pagamento."})}},bThe:function(e,t,a){"use strict";a.d(t,"b",(function(){return Ce})),a.d(t,"a",(function(){return Ee})),a.d(t,"d",(function(){return Ae})),a.d(t,"c",(function(){return we}));var n=a("FdF9"),r=a("TSYQ"),o=a.n(r),s=a("N6z0"),d=a("8DDH"),i=a("F7w1"),c=a("1bEA"),l=a("TyVE"),u=a("0q0T"),p=a("/gc/"),f=a("uixt"),b=a("XBpF"),m=a("B+mQ"),g=a("d37E"),_=a("ZdUm"),v=a("+Dcn"),O=a("ve0d"),y=a("a/f1"),h=a("ds8S"),j=a("sYCV");function C(e){return/[0-9\u0660-\u0669\u06f0-\u06f9\u0966-\u096f\uff10-\uff19]/.test(e)}var E=a("re6F"),A=a("Lpp8"),w=a("R0Aw"),S=a("6MI/"),k=a("hgiX"),I=a("bgyr"),N=a("k/ey"),z=a("BGKX"),T=a("N3Uh"),D=a("AlHd"),F=a("bPU2"),P=a("jh73"),M=a("NFhX"),R=a("S3bo"),x=a("XwMR");class V extends Error{constructor(e){super("AddressValidationServiceError"),this.name="AddressValidationServiceError",this.errors=void 0;const t=["Not allowed"];this.errors=e.map(e=>e.message).filter(e=>!t.includes(e))}}class L extends Error{constructor(){super(...arguments),this.name="AddressValidationError"}}function q(e){switch(e){case"address1":return"address1";case"address2":return"address2";case"country_code":case"countryCode":case"country":return"countryCode";case"zip":return"postalCode";case"province":case"province_code":case"provinceCode":return"zoneCode";case"city":return"city";default:throw new L("Unknown Address Component")}}function B(e,t){switch(e){case"address_zip_invalid_for_country":return"shipping"===t?x.a.DeliveryInvalidPostalCodeForCountry:x.a.PaymentsInvalidPostalCodeForCountry;case"address_zip_blank":return"shipping"===t?x.a.DeliveryPostalCodeRequired:x.a.PaymentsPostalCodeRequired;case"address_zip_invalid_for_country_and_province":return"shipping"===t?x.a.DeliveryInvalidPostalCodeForZone:x.a.PaymentsInvalidPostalCodeForZone;case"address_zip_contains_emojis":return"shipping"===t?x.a.DeliveryPostalCodeContainsEmojis:x.a.PaymentsPostalCodeContainsEmojis}return"shipping"===t?"DELIVERY_POSTAL_CODE_BLANK":"PAYMENTS_POSTAL_CODE_BLANK"}function H(e,t,a,r){const o=Object(i.a)(),s=Object(D.a)(F.a),d=Object(b.d)(e,t,a),c=function(e,t){const a=Object(E.a)(),r=Object(n.useMemo)(()=>new Map,[]),{validation:o}=Object(R.b)();return Object(n.useCallback)(async n=>{let{address1:s,address2:d,zoneCode:i,countryCode:c,postalCode:l,city:u}=n;const p=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.join("")}(s,d,u,i,l,c);if(r.has(p))return r.get(p);try{const a=await o({address1:s,address2:d,zoneCode:i,countryCode:c,postalCode:l,city:u},e,t),{data:n,errors:f}=a;if(f)throw new V(f);return r.clear(),r.set(p,n.validation),n.validation}catch(f){return f instanceof V&&f.errors.length>0&&a.leaveBreadcrumb("AddressValidation service failed",{errors:f.errors}),{concerns:[],suggestions:[],locale:e,validationScope:[],components:[]}}},[r,o,e,t,a])}(o,r);return Object(n.useCallback)(async(e,t)=>{const a=new Map,n=d(e,t);if(n.forEach((e,t)=>{a.set(t,{error:e})}),s){const o=await c(e),s=new Map;o.suggestions.forEach(e=>s.set(e.id,e)),function(e){const t=new Map([["countryCode",0],["coordinates",2],["zoneCode",4],["postalCode",8],["address1",16],["address2",32],["city",64]]),a=(e,a)=>{var n;return e|(null!=(n=t.get(q(a)))?n:0)},n=e.reduce((e,t)=>{var n;const r=t.componentNames.reduce(a,0);return e[r]=((e,t)=>{if(!e&&t)return t;if(e&&!t)return e;if(e.type!==t.type)return"ERROR"===e.type?e:t;switch(e.type){case"ERROR":return e.typeLevel<t.typeLevel?e:t;case"WARNING":return e.typeLevel>t.typeLevel?e:t}})(null!=(n=e[r])?n:void 0,t),e},{});return[...new Set(Object.values(n))]}(o.concerns).forEach(e=>{if("ERROR"===e.type&&(f=e.code,["address_city_blank","address_province_blank","address_zip_invalid_for_country","address_zip_invalid","address_zip_invalid_for_country_and_province","address_city_contains_html_tags","address_zip_contains_html_tags","address_city_contains_emojis","address_zip_contains_emojis","address_city_too_long","address_city_contains_url","address_city_unknown_for_zip","address_zip_not_allowed","address_zip_unknown_for_country","address_province_invalid","address_zip_blank"].includes(f))){const f=q(e.componentNames[0]);if("LOCAL"===r)return a.set(f,{error:" ",concernCode:"postalCode"===f?B(e.code||"",t):e.code}),void n.set(f," ");e.suggestionIds.length>0?(a.set(f,{error:" ",suggestion:{address:(o=s.get(e.suggestionIds[0]),void 0===o?{}:{address1:null!=(d=o.address1)?d:void 0,address2:null!=(i=o.address2)?i:void 0,city:null!=(c=o.city)?c:void 0,zoneCode:null!=(l=o.provinceCode)?l:void 0,postalCode:null!=(u=o.zip)?u:void 0,countryCode:null!=(p=o.countryCode)?p:void 0}),message:e.message,code:e.code},concernCode:"postalCode"===f?B(e.code||"",t):e.code}),n.set(f," ")):(a.set(f,{error:e.message,concernCode:"postalCode"===f?B(e.code||"",t):e.code}),n.set(f,e.message))}var o,d,i,c,l,u,p,f})}return{fieldValidationResult:a}},[d,s,c,r])}function U(){var e,t;const a=Object(z.a)(),r=Object(N.b)(),o=Object(I.c)(),{id:s}=Object(S.b)(),d=Object(i.a)();return Object(n.useCallback)((e,t,n,i,c)=>{if(a){var l,u,p;const f=(null==r||null==(l=r.value)||null==(u=l.defaultAttributes)?void 0:u.uniqToken)||"",b={schemaId:T.c.AddressValidation,payload:{checkoutToken:o.checkoutSessionIdentifier||"",shopId:parseInt(Object(k.c)(s),10),uniqueToken:f,cityUserInput:e.city||"",suggestedCity:(null==n||null==(p=n.address)?void 0:p.city)||"",errorCode:(null==n?void 0:n.code)||c||"",territory:e.countryCode,suggestionAccepted:t,locale:d,context:"shipping"===i?"Shipping address":"Billing address"}};null==a||a.record(b)}},[d,a,o.checkoutSessionIdentifier,s,null==r||null==(e=r.value)||null==(t=e.defaultAttributes)?void 0:t.uniqToken])}function G(e){let{children:t,address:a,addressErrors:r,addressSuggestions:o,suggestionAtom:i,field:l,addressType:u}=e;const[p]=Object(s.a)(i),f=Object(s.d)(a),{resetAddressSuggestions:m}=Object(b.f)(o),g=Ae(a,void 0,o),_=Object(D.a)(F.a),v=Object(d.a)(),{setAddressError:O,resetAddressErrors:y}=Object(b.e)(r),h=U();if(Object(n.useEffect)(()=>{!p&&_&&(m(),O("city",void 0))},[_,f.zoneCode,f.postalCode]),Object(s.b)(i,e=>{e&&h(f,!1,e,u)}),!_)return n.default.createElement(n.default.Fragment,null,t);const j=()=>{null!=p&&p.address&&(h(f,!0,p,u),g({...f,...null==p?void 0:p.address}),m(),y())},C=(e=>{const t=""+(null==p?void 0:p.address[e]);return n.default.createElement("button",{className:"_1XRDO",onClick:j},t)})(l),E=(null==p?void 0:p.message)+". ";return n.default.createElement(c.i,{spacing:"small200"},t,p&&n.default.createElement(c.K,{blockAlignment:"center",spacing:"small200"},n.default.createElement("span",{className:"_1zlFA"},E,v("field_errors.address_suggestion_did_you_mean_html",{html:C},"Você quis dizer %{html}?"))))}var K=a("LBKX"),X=a("11fR");function Y(e){var t;let{address:a,addressOptions:r}=e;const o=Object(s.d)(a),i=Object(d.a)(),l=function(e){const t=Object(s.g)();return a=>{const{firstName:n,lastName:r,company:o,address1:s,address2:d,city:i,countryCode:c,postalCode:l,zoneCode:u,phone:p,coordinates:f}=e.fields;t.write(n,a.firstName),t.write(r,a.lastName),t.write(o,a.company),t.write(s,a.address1),t.write(d,a.address2),t.write(i,a.city),t.write(c,a.countryCode),t.write(l,a.postalCode),t.write(u,a.zoneCode),t.write(p,a.phone),t.write(f,a.coordinates)}}(a),u=null==(t=r.find(e=>Object(m.b)(o,e.address)))?void 0:t.value,p=Object(n.useMemo)(()=>[...r,{label:i("contact.new_address_label","Usar um novo endereço"),value:""+r.length,address:Object(X.a)({countryCode:a.fields.countryCode.init,zoneCode:a.fields.zoneCode.init})}],[r,i,a.fields.countryCode.init,a.fields.zoneCode.init]),f=p[p.length-1].value,[b,g]=Object(n.useState)(u||f);return Object(n.useEffect)(()=>{var e;const t=null==(e=r.find(e=>Object(m.b)(o,e.address)))?void 0:e.value;g(t||f)},[o,r,f]),n.default.createElement(c.wb,{value:b,label:i("contact.stored_addresses_label","Endereços salvos"),options:p,onChange:e=>{const t=p[parseInt(e,10)].address;l(t),g(e)}})}const Z={tabindex:"-1",label:"",ariaHidden:!0,ariaLabel:"no-label",type:"text"},J=Object(n.memo)((function(e){let{address:t,addressType:a,availableCountries:r,onAutofillCaptured:o}=e;const d=Object(f.b)(),i=Object(s.g)(),l=e=>a=>{let{currentTarget:{value:n}}=a;i.write(t.fields[e],n),null==o||o()};return n.default.createElement(c.Xb,{visibility:"hidden"},n.default.createElement("input",Object.assign({},Z,{id:"autofill_firstName",name:"firstName",autoComplete:u(a,"given-name"),onChange:l("firstName")})),n.default.createElement("input",Object.assign({},Z,{id:"autofill_lastName",name:"lastName",autoComplete:u(a,"family-name"),onChange:l("lastName")})),d.isVisible("company")&&n.default.createElement("input",Object.assign({},Z,{id:"autofill_company",name:"company",autoComplete:u(a,"organization"),onChange:l("company")})),n.default.createElement("input",Object.assign({},Z,{id:"autofill_address1",name:"address1",autoComplete:u(a,d.isVisible("address2")?"address-line1":"street-address"),onChange:l("address1")})),d.isVisible("address2")&&n.default.createElement("input",Object.assign({},Z,{id:"autofill_address2",name:"address2",autoComplete:u(a,"address-line2"),onChange:l("address2")})),n.default.createElement("input",Object.assign({},Z,{id:"autofill_city",name:"city",autoComplete:u(a,"address-level2"),onChange:l("city")})),n.default.createElement("input",Object.assign({},Z,{id:"autofill_country",name:"country",autoComplete:u(a,"country"),onChange:e=>{let{currentTarget:{value:a}}=e;const n=r.find(e=>e.value===a||e.label.toLowerCase()===a.toLowerCase());n&&i.write(t.fields.countryCode,n.value)}})),n.default.createElement("input",Object.assign({},Z,{id:"autofill_zone",name:"zone",autoComplete:u(a,"address-level1"),onChange:e=>{let{currentTarget:{value:a}}=e;i.write(t.fields.zoneCode,a)}})),n.default.createElement("input",Object.assign({},Z,{id:"autofill_postalCode",name:"postalCode",autoComplete:u(a,"postal-code"),onChange:l("postalCode")})),d.isVisible("phone")&&n.default.createElement("input",Object.assign({},Z,{id:"autofill_phone",name:"phone",autoComplete:u(a,"tel"),onChange:l("phone")})));function u(e,t){return e?`${e} ${t}`:t}}));var Q=a("uj3f"),W=a("DuMx");function $(e){let{address:t,addressErrors:a,addressType:r,addressSettings:o,loading:s,editDisabled:i}=e;const l=Object(d.a)(),{firstNameRequired:u}=Object(Q.b)(),p=o.isRequired("firstName")||u(r),f=Object(n.useCallback)(e=>{if(p&&!Object(W.d)(e))return l("field_errors.address_first_name_blank","Insira o nome")},[p,l]),b=Object(W.b)(t.fields.firstName,a.firstName,f);return n.default.createElement(c.Ob,Object.assign({name:"firstName",label:p?l("contact.first_name_label","Nome"):l("contact.optional_first_name_label","Nome (opcional)"),required:p,autocomplete:{group:r,field:"given-name"},readonly:s||i},b))}function ee(e){let{address:t,addressType:a,addressErrors:r,addressSettings:o,loading:s,editDisabled:i}=e;const l=Object(d.a)(),u=o.isRequired("lastName"),p=Object(n.useCallback)(e=>{if(u&&!Object(W.d)(e))return l("field_errors.address_last_name_blank","Insira o sobrenome")},[u,l]),f=Object(W.b)(t.fields.lastName,r.lastName,p);return n.default.createElement(c.Ob,Object.assign({name:"lastName",label:u?l("contact.last_name_label","Sobrenome"):l("contact.optional_last_name_label","Last name (optional)"),required:u,autocomplete:{group:a,field:"family-name"},readonly:s||i},f))}function te(e){let{addressType:t,address:a,addressErrors:r,addressSettings:o,loading:s,editDisabled:i}=e;const l=Object(d.a)(),u=o.isRequired("company"),p=Object(n.useCallback)(e=>{if(u&&!Object(W.d)(e))return l("field_errors.address_company_blank","Insira o nome da empresa")},[u,l]),f=Object(W.b)(a.fields.company,r.company,p);return n.default.createElement(c.Ob,Object.assign({name:"company",label:u?l("contact.company_label","Empresa"):l("contact.optional_company_label","Empresa (opcional)"),required:u,autocomplete:{group:t,field:"organization"},readonly:s||i},f))}var ae=a("bCFg"),ne=a("CkYV"),re=a("JCxc");function oe(){const e=Object(d.a)();return n.default.createElement(c.K,{blockAlignment:"center",spacing:"small200"},n.default.createElement(c.F,{source:"info"}),n.default.createElement(c.Mb,null,e("contact.civic_number_warning","Adicione o número da casa, se houver")))}var se;function de(e){const{country:t,address:a,addressRef:r,addressType:o,addressErrors:l,addressSettings:u,loading:p,editDisabled:f,missingBuildingNumberInAddress2:b,autocompleteDisabled:m}=e,g=Object(d.a)(),[,_]=Object(s.a)(a.fields.coordinates),v=Object(s.d)(a.fields.address1),O=Object(s.d)(a.fields.address2),[y,h]=Object(n.useState)(!C(v||"")),j=Object(s.g)(),E=Object(z.a)(),A=Object(I.c)(),{id:w}=Object(S.b)(),D=Object(N.b)(),F=Object(i.a)(),P=j.read(a).value,M=Object(n.useCallback)(e=>{if(!Object(W.d)(e))return g("field_errors.address_address1_blank","Insira o endereço")},[g]),R=Object(W.b)(a.fields.address1,l.address1,M),x=e=>{e!==R.value&&(_(void 0),R.onChange(e),C(e)||h(!0))},V=e=>{C(e)&&h(!1),R.onInput(e)},L=u.isVisible("address2")?"address-line1":"street-address",q=!m&&Object(ae.a)(t,u),B={group:o,field:L};let H=!1;t.buildingNumberRequired&&(H=Boolean(y&&v),t.buildingNumberMayBeInAddress2&&(H=Boolean(y&&b&&(v||O))));const U=Object(n.useRef)(H);U.current!==H&&(H&&function(){if(D.value.defaultAttributes&&E){var e;const a=(null==(e=D.value.defaultAttributes)?void 0:e.uniqToken)||"",n={schemaId:T.c.BuildingNumberNudge,payload:{checkoutToken:A.checkoutSessionIdentifier||"",shopId:parseInt(Object(k.c)(w),10),uniqueToken:a,address1:P.address1||"",address2:P.address2||"",city:P.city||"",zone:P.zoneCode||"",zip:P.postalCode||"",territory:t.code,promptType:"missing_street_number",locale:F,context:"shipping"===o?"Shipping address":"Billing address"}};null==E||E.record(n)}}(),U.current=H);const G=q?n.default.createElement(ie,Object.assign({},e,R,{onChange:x,onInput:V,autocomplete:B})):n.default.createElement(c.Ob,Object.assign({ref:r,name:"address1",label:g("contact.address1_label","Endereço"),required:!0,autocomplete:B,readonly:p||f},R,{onChange:x,onInput:V}));return n.default.createElement("div",{className:"gSDTN"},n.default.createElement(c.i,{spacing:"small200"},G,H&&n.default.createElement(oe,null)))}function ie(e){let{value:t,error:a,onInput:r,onChange:o,onAddressAutoComplete:i,loading:l,editDisabled:u,address:p,autocomplete:f,addressType:b,addressSuggestions:m,onBlur:g}=e;const _=Object(ne.a)(),v=Object(d.a)(),O=Ae(p,i,m),y=Object(s.d)(p.fields.countryCode),h=_?{accessory:n.default.createElement(c.F,{source:"magnify",appearance:"subdued"})}:{};return n.default.createElement(re.a,Object.assign({name:"address1",field:"address1",label:v("contact.address1_label","Endereço"),countryCode:y,onSelect:O,required:!0,autocomplete:f,readonly:l||u,value:t,error:a,onChange:o,onInput:r,addressType:b,onBlur:g},h))}function ce(e){var t;let{address:a,addressType:r,addressErrors:o,addressSettings:s,loading:i,editDisabled:l,setMissingBuildingNumberInAddress2:u}=e;const p=Object(d.a)(),f=Object(ne.a)(),b=Object(n.useRef)(null),m=s.isRequired("address2"),g=Object(n.useCallback)(e=>{if(m&&!Object(W.d)(e))return p("field_errors.address_address2_blank","Insira apartamento, bloco etc.")},[m,p]),_=Object(W.b)(a.fields.address2,o.address2,g),v=Boolean(null==(t=_.value)?void 0:t.length),O=!f||m||v?se.Visible:se.Hidden,[y,h]=Object(n.useState)(O);return Object(n.useEffect)(()=>{var e;y===se.Focused&&(null==(e=b.current)||e.focus())},[y]),Object(n.useEffect)(()=>{y===se.Hidden&&v&&h(se.Visible)},[y,v]),y===se.Hidden?n.default.createElement(c.Xb,null,n.default.createElement(c.N,{textDecoration:"none",onPress:()=>{h(se.Focused)}},n.default.createElement(c.K,{spacing:"small400",blockAlignment:"center"},n.default.createElement(c.F,{source:"plus",size:"extraSmall"}),p("shipping.address2_add_label","Adicionar apartamento, bloco etc.")))):n.default.createElement(c.Ob,Object.assign({name:"address2",label:m?p("contact.address2_label","Apartamento, bloco etc."):p("contact.optional_address2_label","Apartamento, bloco etc. (opcional)"),required:m,autocomplete:{group:r,field:"address-line2"},readonly:i||l},_,{ref:b,onChange:e=>{_.onChange(e),C(e)||null==u||u(!0)},onInput:e=>{_.onInput(e),C(e)&&(null==u||u(!1))}}))}!function(e){e.Focused="focused",e.Visible="visible",e.Hidden="hidden"}(se||(se={}));var le=a("Ktnz"),ue=a("KAm8"),pe=a("FzKC");const fe=new Map([[le.a.Ca,/^[A-Za-z]\d[A-Za-z]\s*\d[A-Za-z]\d$/],[le.a.Us,/^\d{5}(?:[-\s]\d{4})?$/]]);function be(e){const{country:t,address:a,addressType:r,addressErrors:o,addressSettings:i,loading:l,editDisabled:u}=e,p=Object(d.a)(),f=Object(n.useCallback)(e=>{if(!Object(W.d)(e))return p("field_errors.address_zip_blank","Insira um CEP")},[p]),b=Object(W.b)(a.fields.postalCode,o.postalCode,f),[m,g]=Object(n.useState)(b.value);Object(s.b)(a.fields.postalCode,e=>{e!==m&&g(e)});const[,_]=Object(s.a)(a.fields.coordinates),v=t.autocompletionField===ue.a.PostalCode&&i.autocompleteEnabled&&Object(ae.b)(t.code),O=e=>{e!==b.value&&(_(void 0),b.onChange(e))},y=Object(pe.c)(e=>{const a=fe.get(t.code);a&&a.test(e)&&O(e)},500),h=v?n.default.createElement(ge,Object.assign({},e,b,{onChange:O})):n.default.createElement(c.Ob,Object.assign({name:"postalCode",label:t.labels.postalCode,required:!0,inputMode:me(t),autocomplete:{group:r,field:"postal-code"},letterCase:"uppercase",readonly:l||u},b,{onInput:function(e){const t=e.toLocaleUpperCase();b.onInput(t),g(t),y(t)},onChange:O,controlledValue:m}));return n.default.createElement("div",{className:"_1Ux-D"},h)}function me(e){const{pureNumericPostalCode:t}=e;return t?"numeric":"text"}function ge(e){let{value:t,error:a,onInput:r,onChange:o,onAddressAutoComplete:i,loading:c,editDisabled:l,address:u,addressType:p,addressSuggestions:f,onBlur:b}=e;const m=Object(d.a)(),g=Ae(u,i,f),_=Object(s.d)(u.fields.countryCode);return n.default.createElement(re.a,{name:"postalCode",field:"postalCode",label:m("contact.postal_code_label","CEP"),countryCode:_,onSelect:g,required:!0,autocomplete:{group:p,field:"postal-code"},readonly:c||l,value:t,error:a,onChange:o,onInput:r,addressType:p,onBlur:b})}function _e(e){let{address:t,addressType:a,addressErrors:r,loading:o,editDisabled:i,resetAddressFieldSuggestion:l,resetAddressFieldError:u}=e;const p=Object(d.a)(),f=Object(n.useCallback)(e=>{if(!Object(W.d)(e))return p("field_errors.address_city_blank","Insira uma cidade")},[p]),b=Object(W.b)(t.fields.city,r.city,f),[,m]=Object(s.a)(t.fields.coordinates);return n.default.createElement(c.Ob,Object.assign({name:"city",label:p("contact.city_label","Cidade"),required:!0,autocomplete:{group:a,field:"address-level2"},readonly:o||i},b,{onInput:()=>{l&&l("city"),u&&u("city")},onChange:e=>{e!==b.value&&(m(void 0),b.onChange(e))}}))}function ve(e){let{country:t,address:a,addressType:r,addressErrors:o,loading:i,editDisabled:l}=e;const u=Object(d.a)(),p=Object(n.useCallback)(e=>{if(!Object(W.d)(e))return u("field_errors.address_province_blank","Selecione um estado/província")},[u]),f=Object(W.b)(a.fields.zoneCode,o.zoneCode,p),[,b]=Object(s.a)(a.fields.coordinates),[,m]=Object(s.a)(o.postalCode);return Object(n.useEffect)(()=>{var e;const a=null==f||null==(e=f.value)?void 0:e.toLowerCase(),n=t.zones.find(e=>e.code===(null==f?void 0:f.value)||e.name.toLowerCase()===a);n&&f.onChange(n.code)},[t.zones,f]),n.default.createElement(c.wb,Object.assign({name:"zone",label:t.labels.zone,placeholder:t.labels.zone,options:(g=t.zones,g.map(e=>({label:e.name,value:e.code}))),required:!0,autocomplete:{group:r,field:"address-level1"},readonly:i||l},f,{onChange:e=>{e!==f.value&&(b(void 0),m(void 0),f.onChange(e))}}));var g}function Oe(e){var t;let{address:a,addressType:r,addressErrors:o,availableCountries:l,loading:u,editDisabled:p}=e;const f=Object(d.a)(),b=Object(W.b)(a.fields.countryCode,o.countryCode),m=Object(W.b)(a.fields.zoneCode,o.zoneCode),g=Object(ne.a)(),[,_]=Object(s.a)(a.fields.coordinates),[,v]=Object(s.a)(o.postalCode),[,O]=Object(s.a)(o.zoneCode),y=Object(z.a)(),h=Object(I.c)(),{id:j}=Object(S.b)(),C=Object(N.b)(),E=Object(i.a)(),A=Object(n.useCallback)((e,t)=>{if(C.value.defaultAttributes&&y){var a;const n=(null==(a=C.value.defaultAttributes)?void 0:a.uniqToken)||"",o={schemaId:T.c.CountrySelection,payload:{checkoutToken:h.checkoutSessionIdentifier||"",shopId:parseInt(Object(k.c)(j),10),uniqueToken:n,territoryCode:t,selectionMethod:e,context:"shipping"===r?"Shipping address":"Billing address",locale:E}};null==y||y.record(o)}},[C.value.defaultAttributes,y,r,E,h.checkoutSessionIdentifier,j]);return Object(n.useEffect)(()=>{A("auto-selected",b.value)},[null==(t=C.value.defaultAttributes)?void 0:t.uniqToken,y]),n.default.createElement(c.wb,Object.assign({name:"countryCode",label:f("contact.country_label","País/Região"),options:l,required:!0,autocomplete:{group:r,field:"country"},readonly:u||p},b,{onChange:e=>{g||m.onChange(void 0),e!==b.value&&(b.onChange(e),_(void 0),O(void 0),v(void 0),A("user-input",e))}}))}var ye=a("bo0G");function he(e){let{country:t,addressType:a,addressErrors:r,addressSettings:o,addressFormSettings:s,address:i,loading:l}=e;const u=Object(d.a)(),p=o.isRequired("phone"),f=Object(n.useCallback)(e=>{if(p&&!Object(W.d)(e))return u("contact.errors.blank.contact_info.phone","Insira um número de telefone")},[p,u]),b=Object(W.b)(i.fields.phone,r.phone,f),m=Object(O.b)(),g=m?u("siberia.contact.optional_phone_label","Número de telefone (opcional)"):u("contact.optional_phone_label","Telefone (opcional)"),_=m?u("siberia.contact.phone_label","Número de telefone"):u("contact.phone_label","Telefone"),v=!1!==(null==s?void 0:s.phoneTooltip)&&n.default.createElement(c.Ub,{activator:n.default.createElement(c.F,{source:"questionFill",appearance:"subdued",accessibilityLabel:u("general.tooltip_accessibility_label","Mais informações")})},u("contact.phone_tooltip","No caso de precisarmos entrar em contato com você sobre seu pedido"));return n.default.createElement(ye.a,Object.assign({name:"phone",countryCode:t.code,label:p?_:g,hideCountries:!0,required:p,autocomplete:{group:a,field:"telephone"},readonly:l,accessory:v||void 0},b))}class je extends Error{constructor(){super(...arguments),this.name="UnexpectedFieldError"}}const Ce=Object(n.memo)((function(e){let{id:t,address:a,countries:r,addressSettings:R,addressType:x,addressErrors:V,addressSuggestions:L,additionalFieldGroups:q,children:B,expanded:G=!0,autocompleteDisabled:X=!1,collapsible:Z=!1,settings:Q,loading:W=!1,onAddressAutoComplete:$,onManualAddressEntryClick:ee,onAutofillCaptured:te}=e;const ae=Object(d.a)(),{geolocation:ne}=Object(l.b)(),re=Object(f.b)(),[oe]=Object(j.a)(),se=Object(s.d)(a.fields.countryCode),{resetAddressErrors:de,resetAddressFieldError:ie}=Object(b.e)(V),{resetAddressSuggestions:ce,resetAddressFieldSuggestion:le}=Object(b.f)(L),ue=Object(g.q)(h.a.Delivery,_.d.Destination)&&"shipping"===x,pe=Object(O.b)(),{details:fe,loading:be}=Object(y.d)(se);Object(n.useEffect)(()=>{de(),ce()},[a]);const me=Object(n.useMemo)(()=>null!=R?R:re,[R,re]),ge=Object(n.useMemo)(()=>null!=fe?fe:ne.country,[fe,ne.country]),_e=Object(n.useMemo)(()=>!r||ue?[{value:ge.code,label:ge.name}]:r,[r,ge,ue]),ve=Object(v.i)(),Oe=Object(n.useMemo)(()=>{if("CustomerProfile"===(null==ve?void 0:ve.__typename)){const e="shipping"===x?null==ve?void 0:ve.shippingAddresses:null==ve?void 0:ve.billingAddresses;return(null!=e?e:[]).map((e,t)=>{let{address:a}=e;return{value:t.toString(),label:a.label,address:{...a}}})}return[]},[ve,x]),ye=Oe.length>0,he=Object(n.useMemo)(()=>{const e=ge;if(pe){const t=e.formatting.edit;e.formatting.edit=Object(m.k)(t)}return Object(m.j)(e,me)},[ge,me,pe]),je=Object(n.useMemo)(()=>he.findIndex(e=>"{address1}"===e.id)+1,[he]),{groupsBeforeCountry:Ce,countryGroup:Ae,groupsAfterCountry:Se}=Object(n.useMemo)(()=>we(he),[he]);!function(e,t,a,r,o,d,c,l){const f=Object(s.g)(),g=Object(E.a)(),v=Object(s.d)(e.fields.countryCode),O=(()=>{const e=P.a,t=Object(D.a)(F.a),{checkoutSessionIdentifier:a,sourceId:n}=Object(I.c)(),r={subjectId:a||n};return"handle_1"===Object(M.a)({handle:e,subject:r,controlVariant:"handle_0",enabled:t})?"ZIP":"LOCAL"})(),h=H(v,o,c,O),[j,C]=Object(n.useState)(""),A=Object(s.e)(""),R=Object(n.useMemo)(()=>t.flatMap(e=>{let{fields:t}=e;return t}),[t]),{setAddressSuggestion:x}=Object(b.f)(r);Object(n.useEffect)(()=>{for(const e of Object.keys(a))R.includes(e)||f.write(a[e],void 0)},[f,a,R]),Object(u.c)(async t=>{let{reason:n,parts:r}=t;if("negotiation"===n)return{behavior:"allow"};for(const e of Object.values(a)){const t=f.read(e).value;if(t)return g.leaveBreadcrumb("Blocking address error",{errorValue:t}),{behavior:"block",reason:_.c.InvalidAddress,perform:()=>{}}}const o=f.read(r.billingAddressOption).value,s=f.read(e).value,d=await h(s,l),{fieldValidationResult:i}=d;if("shipping"===o&&"billing"===l)return i.forEach((e,t)=>{e.error&&f.write(a[t],void 0)}),{behavior:"allow"};const c=Array.from(i,e=>{let[,t]=e;return t.error}).filter(e=>e),u=c.length>0,p=Array.from(i,e=>{let[,t]=e;return t.suggestion}).filter(e=>e).length>0;return u||p?"LOCAL"===O&&(i.forEach(e=>{e.concernCode&&(f.write(A,e.concernCode),C(e.concernCode))}),f.read(A).value)?{behavior:"allow"}:(u&&g.leaveBreadcrumb("blocking errors",{errors:c}),{behavior:"block",reason:_.c.InvalidAddress,perform:()=>{i.forEach((e,t)=>{e.suggestion&&x(t,e.suggestion),e.error&&f.write(a[t],e.error),e.concernCode&&(p||"ZIP"!==O||f.write(A,e.concernCode),C(e.concernCode))})}}):{behavior:"allow"}});const V=Object(z.a)(),L=Object(I.c)(),{id:q}=Object(S.b)(),B=Object(N.b)(),{details:G}=Object(y.d)(v),K=Object(i.a)(),X=Object(n.useCallback)(e=>{if("error"!==e.type||null==l||d)return;const{violations:t}=e,n=Object(m.h)(l,t);let r=!1;for(const[o,s]of n)f.write(a[o],s),c.isVisible(o)||(r=!0);r&&window.location.reload()},[d,c,l,a,f]),Y=Object(w.a)();Object(n.useEffect)(()=>{X(Y)},[Y,X]);const Z=U(),J=f.read(e).value;Object(p.d)(t=>{!function(t){if("error"===t.type&&null!=l&&!d){const{violations:e}=t,n=Object(m.h)(l,e);for(const[t,r]of n)f.write(a[t],r)}const n=[];for(const e of Object.keys(a))f.read(a[e]).value&&n.push(e);if("invalid"===t.type||"error"===t.type||"success"===t.type&&"progression"===t.negotiationStage){const t=f.read(e).value;if(B.value.defaultAttributes){var r,o,s;const e=(null==(r=B.value.defaultAttributes)?void 0:r.uniqToken)||"",a=null==G||null==(o=G.zones)||null==(s=o.find(e=>e.code===t.zoneCode))?void 0:s.name,d={schemaId:T.c.AddressSubmission,payload:{checkoutToken:L.checkoutSessionIdentifier||"",shopId:parseInt(Object(k.c)(q),10),uniqueToken:e,territory:(null==G?void 0:G.name)||"",context:"shipping"===l?"Shipping address":"Billing address",address1:t.address1||"",address2:t.address2||"",city:t.city||"",zone:a||"",zip:t.postalCode||"",errorCode:j||"",errorFields:n,locale:K}};null==V||V.record(d),C("")}}}(t);const n=f.read(A).value;["address_city_unknown_for_zip","address_zip_unknown_for_country"].includes(n)&&Z(J,!1,void 0,l,n),X(t)})}(a,he,V,L,_e,oe,me,x);const[ke,Ie]=Object(n.useState)(!1);Object(n.useEffect)(()=>{if(be||W){const e=setTimeout(()=>Ie(!0),400);return()=>clearTimeout(e)}Ie(be)},[W,be]);const Ne=Object(s.d)(a.fields.address2),[ze,Te]=Object(n.useState)(!C(Ne||"")),De=Object(n.useRef)(null),Fe={address:a,addressErrors:V,addressSuggestions:L,addressType:x,addressSettings:me,addressRef:De,addressFormSettings:Q,country:ge,availableCountries:_e,onAddressAutoComplete:$,missingBuildingNumberInAddress2:ze,setMissingBuildingNumberInAddress2:Te,resetAddressFieldSuggestion:le,resetAddressFieldError:ie},Pe=Object(n.useCallback)(()=>{null==ee||ee(),setTimeout(()=>{var e;null==(e=De.current)||e.focus()})},[ee]);return n.default.createElement("div",{id:t},n.default.createElement(A.a,{active:ke},n.default.createElement(K.a,null,ve&&ye?n.default.createElement(Y,{address:a,addressOptions:Oe}):null,Z?n.default.createElement(n.default.Fragment,null,he.slice(0,je).map(e=>n.default.createElement(Ee,Object.assign({key:e.id,group:e,additionalGroups:q},Fe,{loading:ke,autocompleteDisabled:X,editDisabled:ue}))),n.default.createElement("div",{className:"_3mXfR"},n.default.createElement("div",{className:"_117Pa"},n.default.createElement(c.n,{id:"collapsed-fields",open:G},n.default.createElement(K.a,null,he.slice(je).map(e=>n.default.createElement(Ee,Object.assign({key:e.id,group:e,additionalGroups:q},Fe,{loading:ke,editDisabled:ue}))),B))),n.default.createElement("div",{className:o()("_117Pa",{byy5r:G})},n.default.createElement(c.i,{inlineAlignment:"start"},n.default.createElement(c.N,{"aria-controls":"collapsed-fields",onPress:Pe},ae("shipping.enter_address_manually_label","Inserir o endereço manualmente")))))):n.default.createElement(n.default.Fragment,null,Ce.map(e=>n.default.createElement(Ee,Object.assign({key:e.id,group:e,additionalGroups:q},Fe,{loading:ke,editDisabled:ue}))),n.default.createElement(Ee,Object.assign({key:"country",group:Ae,additionalGroups:q},Fe,{loading:ke,editDisabled:ue})),Se.map(e=>n.default.createElement(Ee,Object.assign({key:e.id,group:e,additionalGroups:q},Fe,{loading:ke,editDisabled:ue}))),B)),n.default.createElement(J,{address:a,addressType:x,country:ge,availableCountries:_e,onAutofillCaptured:te})))}));function Ee(e){var t;let{addressRef:a,additionalGroups:r,autocompleteDisabled:o,group:s,...d}=e;const{loading:i}=d,c=null!=(t=null==r?void 0:r.filter(e=>{let{after:t}=e;return s.fields.includes(t)}))?t:[];return n.default.createElement(n.default.Fragment,null,n.default.createElement(K.b,null,s.fields.map(e=>{switch(e){case"firstName":return n.default.createElement($,d);case"lastName":return n.default.createElement(ee,d);case"company":return n.default.createElement(te,d);case"address1":return n.default.createElement(de,Object.assign({},d,{addressRef:a,autocompleteDisabled:o}));case"address2":return n.default.createElement(ce,d);case"postalCode":return n.default.createElement(G,Object.assign({},d,{suggestionAtom:d.addressSuggestions.postalCode,field:"postalCode"}),n.default.createElement(be,d));case"city":return n.default.createElement(G,Object.assign({},d,{suggestionAtom:d.addressSuggestions.city,field:"city",addressType:d.addressType}),n.default.createElement(_e,d));case"zoneCode":return n.default.createElement(G,Object.assign({},d,{suggestionAtom:d.addressSuggestions.zoneCode,field:"zoneCode"}),n.default.createElement(ve,d));case"countryCode":return n.default.createElement(Oe,d);case"phone":return n.default.createElement(he,d);default:throw new je("Unexpected field: "+e)}})),c.map(e=>n.default.createElement(K.b,{key:e.id},e.render({loading:i}))))}function Ae(e,t,a){const n=Object(s.g)();return r=>{var o;const{coordinates:s,address1:d,address2:i,city:c,zoneCode:l,countryCode:u,postalCode:p}=e.fields;n.write(s,r.coordinates),n.write(d,null!=(o=r.address1)?o:""),n.write(i,e=>{var t;return null!=(t=r.address2)?t:e}),n.write(c,r.city),n.write(l,r.zoneCode),n.write(u,r.countryCode),n.write(p,r.postalCode),a&&["address1","address2","city","countryCode","postalCode","zoneCode"].forEach(e=>{n.write(a[e],void 0)}),null==t||t(r)}}function we(e){const t=e.findIndex(e=>e.fields.includes("countryCode"));return{groupsBeforeCountry:e.slice(0,t),countryGroup:e[t],groupsAfterCountry:e.slice(t+1)}}},jh73:function(e,t,a){"use strict";a.d(t,"f",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return d})),a.d(t,"c",(function(){return i}));const n="https://cdn.shopify.com/shopifycloud/exp-verdict/js/latest.js",r="checkout_increase_shop_pay_awareness_experiment",o="address_validation",s="autocomplete_japan",d="shop_pay_bopis_sales_to_thousand_locations",i="guest_checkout_bopis_sales_to_thousand_locations"}}]);